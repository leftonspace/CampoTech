// Mock data for admin dashboard
// In production, this would come from the main CampoTech database

import {
  DashboardMetrics,
  Business,
  RevenueData,
  RevenueByTier,
  FailedPayment,
  AIConversation,
  VoiceTranscription,
  TechnicianLocation,
  Job,
} from '@/types';

export const mockDashboardMetrics: DashboardMetrics = {
  totalBusinesses: 1247,
  activeBusinesses: 1089,
  mrr: 68450, // USD
  newSignupsThisWeek: 23,
  newSignupsThisMonth: 87,
  churnRate: 2.3,
  activeUsersToday: 342,
  systemHealth: {
    api: 'healthy',
    database: 'healthy',
    whatsapp: 'healthy',
    payments: 'healthy',
  },
};

export const mockBusinesses: Business[] = [
  {
    id: 'bus-001',
    name: 'Plomería García',
    ownerEmail: 'garcia@example.com',
    ownerPhone: '+54 11 5555-0001',
    plan: 'PROFESIONAL',
    mrr: 55,
    status: 'active',
    createdAt: '2024-06-15',
    lastActiveAt: '2024-12-19T10:30:00',
    userCount: 4,
    jobCount: 156,
  },
  {
    id: 'bus-002',
    name: 'Electricidad Martínez',
    ownerEmail: 'martinez@example.com',
    ownerPhone: '+54 11 5555-0002',
    plan: 'EMPRESARIAL',
    mrr: 120,
    status: 'active',
    createdAt: '2024-03-20',
    lastActiveAt: '2024-12-19T09:15:00',
    userCount: 12,
    jobCount: 543,
  },
  {
    id: 'bus-003',
    name: 'Gas del Sur',
    ownerEmail: 'gassur@example.com',
    ownerPhone: '+54 11 5555-0003',
    plan: 'BASICO',
    mrr: 25,
    status: 'active',
    createdAt: '2024-09-01',
    lastActiveAt: '2024-12-18T16:45:00',
    userCount: 1,
    jobCount: 34,
  },
  {
    id: 'bus-004',
    name: 'Aires Express',
    ownerEmail: 'airesexp@example.com',
    ownerPhone: '+54 11 5555-0004',
    plan: 'FREE',
    mrr: 0,
    status: 'trial',
    createdAt: '2024-12-10',
    lastActiveAt: '2024-12-19T08:00:00',
    userCount: 1,
    jobCount: 5,
  },
  {
    id: 'bus-005',
    name: 'Refrigeración López',
    ownerEmail: 'refrilop@example.com',
    ownerPhone: '+54 11 5555-0005',
    plan: 'PROFESIONAL',
    mrr: 55,
    status: 'suspended',
    createdAt: '2024-01-10',
    lastActiveAt: '2024-11-30T12:00:00',
    userCount: 3,
    jobCount: 289,
    notes: 'Pago rechazado - contactar',
  },
];

export const mockRevenueData: RevenueData[] = Array.from({ length: 30 }, (_, i) => {
  const date = new Date();
  date.setDate(date.getDate() - (29 - i));
  return {
    date: date.toISOString().split('T')[0],
    revenue: 2000 + Math.floor(Math.random() * 500),
    subscriptions: 40 + Math.floor(Math.random() * 10),
  };
});

export const mockRevenueByTier: RevenueByTier[] = [
  { tier: 'Empresarial', revenue: 35280, count: 294, percentage: 51.5 },
  { tier: 'Profesional', revenue: 25300, count: 460, percentage: 37.0 },
  { tier: 'Inicial', revenue: 7875, count: 315, percentage: 11.5 },
  { tier: 'Free', revenue: 0, count: 178, percentage: 0 },
];

export const mockFailedPayments: FailedPayment[] = [
  {
    id: 'fp-001',
    businessId: 'bus-005',
    businessName: 'Refrigeración López',
    amount: 55,
    failedAt: '2024-12-15T10:30:00',
    reason: 'Tarjeta rechazada - fondos insuficientes',
    retryCount: 3,
  },
  {
    id: 'fp-002',
    businessId: 'bus-012',
    businessName: 'Servicios Pérez',
    amount: 25,
    failedAt: '2024-12-17T14:00:00',
    reason: 'Tarjeta expirada',
    retryCount: 1,
  },
  {
    id: 'fp-003',
    businessId: 'bus-023',
    businessName: 'Clima Total',
    amount: 120,
    failedAt: '2024-12-18T09:45:00',
    reason: 'Error de procesamiento',
    retryCount: 2,
  },
];

export const mockAIConversations: AIConversation[] = [
  {
    id: 'ai-001',
    businessId: 'bus-001',
    businessName: 'Plomería García',
    customerPhone: '+54 11 ****-1234',
    messageCount: 8,
    confidenceScore: 0.92,
    status: 'completed',
    createdAt: '2024-12-19T10:15:00',
    summary: 'Cliente agendó servicio de reparación de cañería para el 21/12',
  },
  {
    id: 'ai-002',
    businessId: 'bus-002',
    businessName: 'Electricidad Martínez',
    customerPhone: '+54 11 ****-5678',
    messageCount: 15,
    confidenceScore: 0.45,
    status: 'escalated',
    createdAt: '2024-12-19T09:30:00',
    summary: 'Consulta técnica compleja - derivado a humano',
  },
  {
    id: 'ai-003',
    businessId: 'bus-001',
    businessName: 'Plomería García',
    customerPhone: '+54 11 ****-9012',
    messageCount: 4,
    confidenceScore: 0.88,
    status: 'completed',
    createdAt: '2024-12-19T08:45:00',
    summary: 'Consulta de precio para instalación de termotanque',
  },
  {
    id: 'ai-004',
    businessId: 'bus-003',
    businessName: 'Gas del Sur',
    customerPhone: '+54 11 ****-3456',
    messageCount: 2,
    confidenceScore: 0.12,
    status: 'failed',
    createdAt: '2024-12-19T07:00:00',
    summary: 'No se pudo entender la consulta del cliente',
  },
];

export const mockVoiceTranscriptions: VoiceTranscription[] = [
  {
    id: 'vt-001',
    businessId: 'bus-002',
    technicianName: 'Juan Rodríguez',
    duration: 45,
    transcription: 'Terminé el trabajo en la casa del cliente Gómez. Usé dos metros de cable 2.5mm, una llave térmica de 20 amperes y una hora de mano de obra. El cliente quedó conforme.',
    createdAt: '2024-12-19T10:30:00',
  },
  {
    id: 'vt-002',
    businessId: 'bus-001',
    technicianName: 'Carlos Fernández',
    duration: 32,
    transcription: 'Reparación completada. Cambié el flotante del tanque y ajusté la válvula de cierre. Materiales: un flotante universal y cinta teflón.',
    createdAt: '2024-12-19T09:15:00',
  },
];

// Buenos Aires area coordinates
export const mockTechnicianLocations: TechnicianLocation[] = [
  {
    id: 'loc-001',
    technicianId: 'tech-001',
    technicianName: 'Carlos Fernández',
    businessId: 'bus-001',
    businessName: 'Plomería García',
    latitude: -34.6037,
    longitude: -58.3816,
    status: 'in_progress',
    currentJobId: 'job-001',
    lastUpdated: '2024-12-19T10:28:00',
  },
  {
    id: 'loc-002',
    technicianId: 'tech-002',
    technicianName: 'Juan Rodríguez',
    businessId: 'bus-002',
    businessName: 'Electricidad Martínez',
    latitude: -34.5875,
    longitude: -58.4141,
    status: 'en_route',
    currentJobId: 'job-002',
    lastUpdated: '2024-12-19T10:25:00',
  },
  {
    id: 'loc-003',
    technicianId: 'tech-003',
    technicianName: 'Miguel Torres',
    businessId: 'bus-002',
    businessName: 'Electricidad Martínez',
    latitude: -34.6158,
    longitude: -58.4333,
    status: 'arrived',
    currentJobId: 'job-003',
    lastUpdated: '2024-12-19T10:20:00',
  },
  {
    id: 'loc-004',
    technicianId: 'tech-004',
    technicianName: 'Pablo Díaz',
    businessId: 'bus-003',
    businessName: 'Gas del Sur',
    latitude: -34.6272,
    longitude: -58.3651,
    status: 'in_progress',
    currentJobId: 'job-004',
    lastUpdated: '2024-12-19T10:15:00',
  },
  {
    id: 'loc-005',
    technicianId: 'tech-005',
    technicianName: 'Roberto Sánchez',
    businessId: 'bus-001',
    businessName: 'Plomería García',
    latitude: -34.5986,
    longitude: -58.3729,
    status: 'completed',
    lastUpdated: '2024-12-19T10:10:00',
  },
];

export const mockActiveJobs: Job[] = [
  {
    id: 'job-001',
    businessId: 'bus-001',
    businessName: 'Plomería García',
    customerId: 'cust-001',
    customerName: 'María González',
    address: 'Av. Corrientes 1234, CABA',
    latitude: -34.6037,
    longitude: -58.3816,
    status: 'in_progress',
    scheduledAt: '2024-12-19T10:00:00',
    technicianId: 'tech-001',
    technicianName: 'Carlos Fernández',
  },
  {
    id: 'job-002',
    businessId: 'bus-002',
    businessName: 'Electricidad Martínez',
    customerId: 'cust-002',
    customerName: 'Jorge Pérez',
    address: 'Av. Cabildo 2345, CABA',
    latitude: -34.5645,
    longitude: -58.4567,
    status: 'en_route',
    scheduledAt: '2024-12-19T11:00:00',
    technicianId: 'tech-002',
    technicianName: 'Juan Rodríguez',
  },
  {
    id: 'job-003',
    businessId: 'bus-002',
    businessName: 'Electricidad Martínez',
    customerId: 'cust-003',
    customerName: 'Laura Martín',
    address: 'Av. Rivadavia 5678, CABA',
    latitude: -34.6158,
    longitude: -58.4333,
    status: 'arrived',
    scheduledAt: '2024-12-19T10:30:00',
    technicianId: 'tech-003',
    technicianName: 'Miguel Torres',
  },
];
